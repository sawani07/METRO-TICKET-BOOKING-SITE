{% extends 'railapp/main.html' %}
{% load static %}
{% block content %}
    <title>Register</title> 
	<!-- Google font -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">

	<!-- Custom stlylesheet -->
	<link type="text/css" rel="stylesheet" href="{% static 'css/search.css'%}" />

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

	<div id="booking" class="section">
		<div class="section-center">
			<div class="container">
				<div class="row">
					<div class="booking-form">
						<div class="form-header">
							<h1>Book Your Ticket</h1>
							
						</div>
						<form action="{% url 'search' %}" method= "post">
							{% csrf_token %}
							<div class="form-group">
								<input name='source' class="form-control" type="text">
								<span class="form-label">Source</span>
							</div>
							<div class="form-group">
								<input name='destination' class="form-control" type="text">
								<span class="form-label">Destination</span>
							</div>
							<div class="row">
								<div class="col-md-6">
									<div class="form-group">
										<input name='date' class="form-control" type="date" id="dateControl">
										<span class="form-label">Select Date</span>
									</div>
								</div>
							</div>
							
							<div class="form-btn">
								<button class="submit-btn">Check availability</button>
								
							</div>
							<h1 style="color: aliceblue;">{{error}}</h1>
							
						</form>
						
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src="{% static 'js/jquery.min.js' %}"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script>
		$('.form-control').each(function () {
			floatedLabel($(this));
		});

		$('.form-control').on('input', function () {
			floatedLabel($(this));
		});

		function floatedLabel(input) {
			var $field = input.closest('.form-group');
			if (input.val()) {
				$field.addClass('input-not-empty');
			} else {
				$field.removeClass('input-not-empty');
			}
		}
	</script>
	<script>
        $(document).ready(function(){
		$(function(){
			var dtToday = new Date();

			var month = dtToday.getMonth() + 1;
			var day = dtToday.getDate();
			var year = dtToday.getFullYear();
			if(month < 10)
			    month = '0' + month.toString();
			if(day < 10)
			    day = '0' + day.toString();
			var maxDate= year + '-' + month +'-'+ day;
			$('#dateControl').attr('min',maxDate)
		});
		})

	</script>

{% endblock content %}

